<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.js"></script>

<div class="heading-container">
  <div class="heading">
    <h2>THE BREAKOUT BREAKDOWN</h2>
  </div>
  <div class="text-content">
    <p>
      Acne is complex, which is why our team of experts have broken down the acne lifecycle into 4 key, but simple
      stages
    </p>
  </div>
  <div class="img-slide">
    <img
      id="image1"
      src="https://cdn.shopify.com/s/files/1/0786/9710/3635/files/slide1.webp?v=1688796229"
      alt="Stage 1"
      width="100%"
      height="100%"
      loading="lazy"
    >
    <img
      id="image2"
      src="https://cdn.shopify.com/s/files/1/0786/9710/3635/files/slide2.webp?v=1688796237"
      alt="Stage 2"
      loading="lazy"
      width="100%"
      height="100%"
    >
    <img
      id="image3"
      src="https://cdn.shopify.com/s/files/1/0786/9710/3635/files/slide3.webp?v=1688796238"
      alt="Stage 3"
      loading="lazy"
      width="100%"
      height="100%"
    >
    <img
      id="image4"
      src="https://cdn.shopify.com/s/files/1/0786/9710/3635/files/slide4.webp?v=1688796238"
      alt="Stage 4"
      loading="lazy"
      width="100%"
      height="100%"
    >
  </div>
  <div class="slide-dots"></div>
</div>

{% schema %}
{
  "name": "Custom Breakout Section",
  "settings": [],
  "presets":[
    {
      "name":"Custom Breakout Section"
    }
  ]
}
{% endschema %}

<style>
    .heading h2 {
    color: #a79bf8;
    font-size: 50px;
    font-family: "BebasNeue";
    font-weight: 400;
    text-align: center;
    line-height: 42px;
    margin: 16px 0px;
  }

  .text-content p {
    font-size: 15px;
    color: #707070;
    line-height: 18px;
    text-align: center;
    align-items: center;
    font-family: Europa_Regular;
    margin-bottom: 16px;
  }

  .img-slide {
    display: flex;
    justify-content: space-evenly;
    flex-wrap: wrap;
  }
  .img-slide img {
    margin: 1rem;
  }

  @media only screen and (max-width: 769px) {
    .slick-dots {
      display: flex;
      justify-content: center;
      align-items: center;
      list-style: none;
    }
    .slick-dots li {
      margin: 0.2rem;
      border: 1px solid #ac9efd;
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }
    .slick-dots li button {
      display: none;
    }
    .slick-dots li.slick-active {
      background: #ac9efd;
    }
  }
</style>

<script>
  {% comment %}   $(document).ready(function () {
        $(".img-slide").slick({
          slidesToShow: 4,
          infinite: false,
          responsive: [
            {
              breakpoint: 769,
              settings: {
                dots: true,
                arrows: false,
                slidesToShow: 3,
                slidesToScroll: 1,
              },
            },
            {
              breakpoint: 480,
              settings: {
                dots: true,
                arrows: false,
                slidesToShow: 1,
              },
            },
          ],
        });
      }); {% endcomment %}

      window.addEventListener('DOMContentLoaded', function () {
        var imgSlides = document.querySelectorAll('.img-slide');
        if (imgSlides.length > 0) {
          var slickSettings = {
            slidesToShow: 4,
            infinite: false,
            responsive: [
              {
                breakpoint: 769,
                settings: {
                  dots: true,
                  arrows: false,
                  slidesToShow: 3,
                  slidesToScroll: 1
                }
              },
              {
                breakpoint: 480,
                settings: {
                  dots: true,
                  arrows: false,
                  slidesToShow: 1
                }
              }
            ]
          };

          imgSlides.forEach(function (imgSlide) {
            new Slick(imgSlide, slickSettings);
          });
        }
      });
</script>
